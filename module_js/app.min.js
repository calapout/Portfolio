document.querySelector("#BurgerCheckbox").checked=!1;let imgs=document.querySelectorAll("img");for(let i=0;i<imgs.length;i++)imgs[i].decoding="async";function RenderCssOnLoad(json){for(let i=0;i<json.length;i++){let myCSS=document.createElement("link");myCSS.rel="stylesheet",myCSS.href=json[i].href,""!=json[i].crossorigin&&(myCSS.crossOrigin=json[i].crossorigin),""!=json[i].integrity&&(myCSS.integrity=json[i].integrity),document.head.insertBefore(myCSS,document.head.childNodes[document.head.childNodes.length-1].nextSibling)}}function makeItPlayable(){let playables=document.querySelectorAll("div.playable");if(0==window.mobileAndTabletcheck()){for(let i=0;i<playables.length;i++)playables[i].addEventListener("click",OnClickPlayable,!1),playables[i].addEventListener("mouseover",OnMouseEventPlayable,!0),playables[i].addEventListener("mouseleave",OnMouseEventPlayable,!0);document.querySelector("#messageMobile").style.display="none"}else if(1==window.mobileAndTabletcheck()){for(let i=0;i<playables.length;i++)playables[i].style.cursor="default";document.querySelector("#messageMobile").style.display="block",document.querySelector("#messageMobile").style.padding="0.3em"}}function OnClickPlayable(event){let tempTarget=GetParentDiv(event.target);window.open(tempTarget.dataset.url,"_blank")}function OnMouseEventPlayable(event){let tempTarget=GetParentDiv(event.target);"mouseover"==event.type?tempTarget.style.borderColor="white":"mouseleave"==event.type&&(tempTarget.style.borderColor="rgb(0,78,7)")}function GetParentDiv(child){let tempTarget=child,IsParentDiv=!1;for(;;){if("DIV"==tempTarget.nodeName)return tempTarget;tempTarget=tempTarget.parentNode}}loadJSON("./module_js/css.json",RenderCssOnLoad);let navigationButtons=document.querySelectorAll(".navigation>a");for(let i=0;i<navigationButtons.length;i++)navigationButtons[i].addEventListener("click",()=>{document.querySelector("#BurgerCheckbox").checked=!1});function wrappIt(){let wrappers=document.querySelectorAll(".wrapper");const tabletWidth=768,wideWidth=1200,colNbMobile=1,colNbTablet=2,colNbWide=3;let width=window.innerWidth;assignRowByColumn(width>768?3:width>1200?2:1,wrappers),window.addEventListener("resize",()=>{let width=window.innerWidth;width>1200?(assignRowByColumn(3,wrappers),makeItPlayable()):width>768?(assignRowByColumn(2,wrappers),makeItPlayable()):(assignRowByColumn(1,wrappers),makeItPlayable())})}function assignRowByColumn(colNumber,wrappers){for(let i=0;i<wrappers.length;i++)wrappers[i].style.gridTemplateRows="repeat("+Math.ceil(wrappers[i].childElementCount/colNumber)+", 1.3fr)"}function renderOnLoaded(aProject){for(let i=0;i<aProject.length;i++){let wrapper=document.querySelector("#"+aProject[i].id+">.wrapper");for(let y=0;y<aProject[i].projects.length;y++){let tempsDiv=document.createElement("div");1==aProject[i].projects[y].isPlayable&&tempsDiv.classList.add("playable"),tempsDiv.dataset.url=aProject[i].projects[y].url;let figure=document.createElement("figure"),img=document.createElement("img");img.src="images/"+aProject[i].projects[y].fileName,img.alt=aProject[i].projects[y].alt,img.decoding="async",figure.appendChild(img);let figcaption=document.createElement("figcaption");figcaption.innerHTML=aProject[i].projects[y].figcaption,tempsDiv.appendChild(figure),tempsDiv.appendChild(figcaption),wrapper.appendChild(tempsDiv)}}wrappIt(),makeItPlayable()}function loadJSON(url,callback){var xobj=new XMLHttpRequest;xobj.overrideMimeType("application/json"),xobj.open("GET",url,!0),xobj.onreadystatechange=function(){4==xobj.readyState&&"200"==xobj.status&&callback(JSON.parse(xobj.responseText))},xobj.send(null)}loadJSON("./module_js/projets.json",renderOnLoaded);